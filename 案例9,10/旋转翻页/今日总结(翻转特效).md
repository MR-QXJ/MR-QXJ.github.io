## 今日总结(翻转特效)

翻转回来时用**fadeIn**会**默认**使用**overflow：hidden**改变样式，会**显示不出翻转**的效果，所以这里用**opacity**切换翻转的显示和隐藏

#### 翻转算法

利用类似坐标系，坐标右上到左下的**斜线**的**x和y的和**是相等的，来判断是**同时开启transition**的元素

**翻转**目标**样式**和**transition**各使用一个class类，方便**动画**或直接变更**不使用动画**

#### 图片隐式切换

图片有五张，但首位各多加了一个ul，因为每次到首尾时需要**初始化层级**，但按钮还未点击就会**显示**新设置层级的**第一张或第五张**：

```
<ul class="pic5"></ul>//动画到这里看似第五张，其实这里结束后才设置层级跳到真的第五张
<ul class="pic1 next"></ul>//真的第一张
<ul class="pic2"></ul>//真的第二张
<ul class="pic3"></ul>//真的第三张
<ul class="pic4"></ul>//真的第四张
<ul class="pic5"></ul>//真的第五张
<ul class="pic1"></ul>//动画到这里看似第一张，其实这里结束后才设置层级跳到真的第一张
```

#### 按下**向右**按钮时

1.保证**当前**层级**最高**，**后面**图片层级**第二**，

2.**删除恢复的样式和动画**，添加**翻转的样式和动画**，

3.每次动画结束后判断当前翻转的是否是**最后一张图（pic5）**，如果是则要**初始化**所有样式（清除所有**li**的**动画和翻转**样式，清除所有**ul**的**层级样式**，给**第一张ul**（pic1）添加**第二层级**的样式）并将**index变为1**（pic1）

#### 按下**向左**按钮时

1.设置**上一张**层级**最高**，**当前第二**，

2.然后将**上一张**的所有li设置为**翻转的样式**，但要**删除动画样式**保证一瞬间完成

3.再给**上一张**设置**恢复样式**，并添加**动画样式**

4.每次动画结束后判断当前翻转的ul的**index是不是0**（也是pic5），如果是则**初始化**样式（删除所有li的**恢复样式**和**翻转样式**，删除所有**ul**的**层级样式**，**index**变为**倒数第二个图**片（pic5））	

恢复样式：

```
#pic li.last { /*恢复原位置的样式*/
    border: 1px solid transparent;
    transform: translate(0.0) rotateX(0deg);
    opacity: 1;
}
```

翻转样式：

```
#pic li.on { /*翻转移动的目标样式*/
    border: 1px solid #333;
    transform: translate(-50px,-50px) rotateX(720deg);
    opacity: 0;
}
```

动画样式：

```
#pic li.move {  /*开启动画效果*/
    transition: transform 2s, opacity 2s;
}
```

层级样式：

```
#pic ul.now {
    z-index: 2;
}
#pic ul.next {
    z-index: 1;
}
```